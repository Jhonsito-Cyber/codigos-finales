#include "pch.h"
#include <iostream>
#include <conio.h>

using namespace std;
using namespace System;


typedef int TipoDato;


int tam = 0;


TipoDato* arr = nullptr;


void mostrarArreglo(TipoDato* a, int n)
{
	Console::ForegroundColor = ConsoleColor::White;
	cout << "\nArreglo actual (" << n << " elementos):\n";

	if (a == nullptr || n == 0) {
		cout << "(vacio)\n";
		return;
	}

	for (int i = 0; i < n; i++)
		cout << " [" << i << "] = " << a[i] << endl;
}



TipoDato* agregarFinal(TipoDato* a, int& n, TipoDato valor)
{
	TipoDato* temp = new TipoDato[n + 1];

	for (int i = 0; i < n; i++)
		temp[i] = a[i];

	temp[n] = valor;
	n++;

	return temp;
}


TipoDato* agregarInicio(TipoDato* a, int& n, TipoDato valor)
{
	TipoDato* temp = new TipoDato[n + 1];

	temp[0] = valor;

	for (int i = 0; i < n; i++)
		temp[i + 1] = a[i];

	n++;

	return temp;
}


// Eliminar posición
TipoDato* eliminarPos(TipoDato* a, int& n, int pos)
{
	if (pos < 0 || pos >= n) return a;

	TipoDato* temp = new TipoDato[n - 1];

	for (int i = 0, k = 0; i < n; i++) {
		if (i != pos) {
			temp[k] = a[i];
			k++;
		}
	}

	n--;

	return temp;
}


TipoDato* ordenar(TipoDato* a, int n)
{
	if (n <= 1) return a;

	for (int i = 0; i < n; i++)
		for (int j = i + 1; j < n; j++)
			if (a[j] < a[i]) {
				TipoDato aux = a[i];
				a[i] = a[j];
				a[j] = aux;
			}

	return a;
}


int menu()
{
	Console::ForegroundColor = ConsoleColor::Yellow;

	cout << "\n=========== MENU ===========\n";
	cout << "1. Agregar al final\n";
	cout << "2. Agregar al inicio\n";
	cout << "3. Eliminar posicion\n";
	cout << "4. Ordenar\n";
	cout << "5. Mostrar arreglo\n";
	cout << "6. Salir\n";
	cout << "Elegir opcion: ";

	int op;
	cin >> op;
	return op;
}


int main()
{
	Console::CursorVisible = false;

	int opcion;
	arr = nullptr;
	tam = 0;

	while (true)
	{
		opcion = menu();

		if (opcion == 1) {
			TipoDato valor;
			cout << "\nIngrese valor: ";
			cin >> valor;
			arr = agregarFinal(arr, tam, valor);
		}

		if (opcion == 2) {
			TipoDato valor;
			cout << "\nIngrese valor: ";
			cin >> valor;
			arr = agregarInicio(arr, tam, valor);
		}

		if (opcion == 3) {
			int pos;
			cout << "\nIngrese posicion: ";
			cin >> pos;
			arr = eliminarPos(arr, tam, pos);
		}

		if (opcion == 4) {
			arr = ordenar(arr, tam);
		}

		if (opcion == 5) {
			mostrarArreglo(arr, tam);
		}

		if (opcion == 6) {
			cout << "\nSaliendo...\n";
			break;
		}

		cout << "\nPresiona una tecla...\n";
		_getch();
		Console::Clear();
	}

	delete[] arr;
	arr = nullptr;

	return 0;
}
-------------------------------------------------
#include "pch.h"
#include <iostream>
#include <conio.h>

using namespace std;
using namespace System;

const int FILAS = 10;
const int COLUMNAS = 20;

// VIDAS DEL JUGADOR
int vidas = 3;

int mapa[FILAS][COLUMNAS] =
{
    {0,0,1,1,2,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0},
    {0,1,1,0,0,0,2,0,1,0,1,0,0,1,1,1,0,2,0,0},
    {0,0,0,0,1,0,0,0,1,0,1,2,0,0,0,1,0,0,0,0},
    {0,2,1,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,1,0},
    {0,0,1,0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0},
    {1,1,1,1,1,0,0,0,0,0,0,2,0,1,1,1,0,1,0,0},
    {0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,0,0,1,0,0},
    {0,2,0,0,1,0,0,0,1,0,0,0,2,0,1,1,0,1,0,0},
    {0,0,0,0,0,0,2,0,1,0,0,0,0,0,0,1,0,1,0,0},
    {0,0,1,1,1,0,0,0,1,0,2,0,0,1,0,1,0,0,0,0}
};

// Personajes
char jugadorChar = '@';
char enemigoChar = 'X';

ConsoleColor jugadorColor = ConsoleColor::Cyan;
ConsoleColor enemigoColor = ConsoleColor::Red;

// Posiciones
int px = 1, py = 1;
int ex = 10, ey = 5;

int dir = 1;   // dirección horizontal del enemigo

void cursor(int x, int y)
{
    Console::SetCursorPosition(x, y);
}

void setColor(int v)
{
    switch (v)
    {
    case 0: Console::BackgroundColor = ConsoleColor::Green; break;
    case 1: Console::BackgroundColor = ConsoleColor::DarkGray; break;
    case 2: Console::BackgroundColor = ConsoleColor::Red; break;
    default: Console::BackgroundColor = ConsoleColor::Black; break;
    }
}

void dibujarMapa()
{
    for (int i = 0; i < FILAS; i++)
    {
        for (int j = 0; j < COLUMNAS; j++)
        {
            cursor(j, i);
            setColor(mapa[i][j]);
            cout << " ";
        }
    }
    Console::BackgroundColor = ConsoleColor::Black;
}

void dibujarHUD()
{
    cursor(0, FILAS + 1);
    Console::ForegroundColor = ConsoleColor::White;
    Console::BackgroundColor = ConsoleColor::Black;
    cout << "Vidas: " << vidas << "   ";
}

void dibujarEntidad(int x, int y, char c, ConsoleColor col)
{
    cursor(x, y);
    Console::BackgroundColor = ConsoleColor::Black;
    Console::ForegroundColor = col;
    cout << c;
}

void moverJugador(char t)
{
    int nx = px, ny = py;

    if (t == 'w') ny--;
    if (t == 's') ny++;
    if (t == 'a') nx--;
    if (t == 'd') nx++;

    if (nx >= 0 && nx < COLUMNAS &&
        ny >= 0 && ny < FILAS &&
        mapa[ny][nx] != 1)
    {
        px = nx;
        py = ny;
    }
}

void moverEnemigoHorizontal()
{
    ex += dir;
    if (ex <= 0 || ex >= COLUMNAS - 1)
        dir *= -1;
}

// COLISIÓN ENTRE JUGADOR Y ENEMIGO
void detectarColision()
{
    if (px == ex && py == ey)
    {
        vidas--;
        dibujarHUD();

        if (vidas <= 0)
        {
            cursor(0, FILAS + 3);
            Console::ForegroundColor = ConsoleColor::Red;
            cout << "GAME OVER";
            _getch();
            exit(0);
        }
    }
}

int main()
{
    Console::CursorVisible = false;

    dibujarMapa();
    dibujarHUD();

    while (true)
    {
        // borrar entidades anteriores
        dibujarEntidad(px, py, ' ', ConsoleColor::Black);
        dibujarEntidad(ex, ey, ' ', ConsoleColor::Black);

        // mover jugador
        if (_kbhit())
        {
            char t = _getch();
            moverJugador(t);
        }

        // mover enemigo
        moverEnemigoHorizontal();

        // detectar colisiones
        detectarColision();

        // dibujar entidades
        dibujarEntidad(px, py, jugadorChar, jugadorColor);
        dibujarEntidad(ex, ey, enemigoChar, enemigoColor);

        dibujarHUD();

        _sleep(60);
    }

    return 0;
}
